---
title: 191.位1的个数
date: 2021-03-22 11:20:30
katex: true
categories:
  - LeetCode
  - 题解
  - 101-200
description: 通过位运算计算二进制数中1的个数
cover: https://images.unsplash.com/photo-1543507090-049056bcf9f9?ixid=MXwxMjA3fDB8MHx0b3BpYy1mZWVkfDEwfEd0ckJTY3YxYjVNfHxlbnwwfHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60
tags:
  - 位运算
abbrlink: ee9cd975
---

## 题目信息

### 题目描述

编写一个函数，输入是一个无符号整数（以二进制串的形式），返回其二进制表达式中数字 `1` 的个数（也被称为汉明重量）。

{% note warning flat %}
- 在某些语言（如 Java）中，没有无符号整数类型。在这种情况下，输入和输出都将被指定为有符号整数类型，但结果是相同的，因为无论整数是有符号的还是无符号的，其内部的二进制表示形式都是相同的
- 在 `Java` 中，编译器使用二进制补码记法来表示有符号整数，因此在下面的**示例3**中，输入的二进制串表示有符号整数 `-3`
- 输入的二进制串的长度一定是 `32` 位的
{% endnote %}

### 示例输出

{% tabs sample %}
<!-- tab 示例输出1 -->
输入： `00000000000000000000000000001011`
输出： `3`
<!-- endtab -->

<!-- tab 示例输出2 -->
输入： `00000000000000000000000010000000`
输出： `1`
<!-- endtab -->

<!-- tab 示例输出3 -->
输入： `11111111111111111111111111111101`
输出： `31`
<!-- endtab -->
{% endtabs %}

## 解题思路

{% tabs solution %}
<!-- tab 使用位运算 -->
对一个二进制串 `n`，如果对它使用位运算 `n & (n - 1)` 那么将去掉这个二进制串最低位的 `1`，因为对于 `n - 1` 而言：

- 如果需要借位，比如 $100_2$，借位后将去掉一个最低位的 `1`，得到 $011_2$，在做与运算时就会将最低位的 `1` 删掉
- 如果不需要借位，比如 $011_2$，减一是 $010_2$，在做与运算时就会将最低位的 `1` 删掉

统计一下执行 `n & (n - 1)` 的次数就是最后的结果
<!-- endtab -->

<!-- tab 使用JDK提供的函数 -->
除了使用 `n & (n - 1)` 来计算结果以外，还可以直接调用 `Integer.bitCount` 获取答案。
<!-- endtab -->
{% endtabs %}

## 代码实现

{% tabs code %}
<!-- tab 代码实现1 -->
```java
/**
 * 计算一个二进制数字中1的个数
 *
 * <p>
 * 思路:<br>
 * {@code n & (n - 1)}表示去掉{@code n}的最低位的{@code 1}, 统计一下这个操作的次数就是二进制数中{@code 1}的个数
 * </p>
 *
 * @param n 一个32位的二进制数字
 * @return 这个二进制数字中1的个数
 */
public int hammingWeight(int n) {
    int result = 0;
    while (n != 0) {
        n &= (n - 1);
        result++;
    }
    return result;
}
```
{% note success flat %}
执行用时：1 ms, 在所有 Java 提交中击败了95.76%的用户
内存消耗：35.5 MB, 在所有 Java 提交中击败了25.10%的用户
{% endnote %}
<!-- endtab -->

<!-- tab 代码实现2 -->
```java
public int hammingWeight(int n) {
    return Integer.bitCount(n);
}
```
{% note success flat %}
执行用时：1 ms, 在所有 Java 提交中击败了95.76%的用户
内存消耗：35.2 MB, 在所有 Java 提交中击败了88.83%的用户
{% endnote %}
<!-- endtab -->
{% endtabs %}

---
