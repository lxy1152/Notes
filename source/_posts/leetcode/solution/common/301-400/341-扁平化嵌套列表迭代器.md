---
title: 341.扁平化嵌套列表迭代器
katex: true
categories:
  - LeetCode
  - 题解
  - LeetCode
  - 0301-0400
tags:
  - dfs
abbrlink: b4c84e9e
date: 2021-03-23 10:35:59
description: 实现一个迭代器
cover: https://images.unsplash.com/photo-1616161245573-e16599aa0fec?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1293&q=80
---

## 题目信息

### 题目描述

给你一个嵌套的整型列表，请你设计一个迭代器，使其能够遍历这个整型列表中的所有整数。
列表中的每一项或者为一个整数，或者是另一个列表。其中列表的元素也可能是整数或是其他列表。

### 示例输出

{% tabs sample %}
<!-- tab 示例输出1 -->
输入： `[[1, 1], 2, [1, 1]]`
输出： `[1, 1, 2, 1, 1]`
<!-- endtab -->

<!-- tab 示例输出2 -->
输入： `[1, [4, [6]]]`
输出： `[1, 4, 6]`
<!-- endtab -->
{% endtabs %}

## 解题思路

可以先遍历一遍数组，将所有的数都保存到列表中，再通过这个列表实现 `next` 和 `hasNext` 方法。

{% note info flat %}
遍历数组需要使用 `dfs`。
{% endnote %}

## 代码实现

```java
interface NestedInteger {
    boolean isInteger();

    Integer getInteger();

    List<NestedInteger> getList();
}

class NestedIterator implements Iterator<Integer> {
    List<Integer> list = new ArrayList<>();
    Iterator<Integer> iterator;

    public NestedIterator(List<NestedInteger> nestedList) {
        dfs(nestedList);
        iterator = list.iterator();
    }

    @Override
    public Integer next() {
        return iterator.next();
    }

    @Override
    public boolean hasNext() {
        return iterator.hasNext();
    }

    private void dfs(List<NestedInteger> nestedList) {
        for (NestedInteger nestedInteger : nestedList) {
            if (nestedInteger.isInteger()) {
                list.add(nestedInteger.getInteger());
            } else {
                dfs(nestedInteger.getList());
            }
        }
    }
}
```

{% note success flat %}
执行用时：3 ms, 在所有 Java 提交中击败了91.05%的用户
内存消耗：41 MB, 在所有 Java 提交中击败了21.46%的用户
{% endnote %}

---
