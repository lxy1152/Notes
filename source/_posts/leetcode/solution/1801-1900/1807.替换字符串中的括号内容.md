---
title: 1807.替换字符串中的括号内容
katex: true
categories:
  - LeetCode
  - 题解
  - 1801-1900
tags:
  - 字符串
  - 哈希
  - 周赛
abbrlink: fdb00dd7
date: 2021-03-29 16:14:01
description: HashMap替换键值
cover: https://images.unsplash.com/photo-1537781378841-c0d7f8363136?ixid=MXwxMjA3fDB8MHx0b3BpYy1mZWVkfDEzfGJvOGpRS1RhRTBZfHxlbnwwfHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60
---

## 题目信息

### 题目描述

给你一个字符串 `s`，它包含一些括号对，每个括号中包含一个非空的键。

比如在字符串 `"(name)is(age)yearsold"` 中，有两个括号对，分别包含键 `"name"` 和 `"age"`。
你知道许多键对应的值，这些关系由二维字符串数组 `knowledge` 表示，其中 `knowledge[i] = [key_i, value_i]`，表示键 `key_i` 对应的值为 `value_i`。

你需要替换**所有的括号对**。当你替换一个括号对，且它包含的键为 `key_i` 时，你需要将 `key_i` 和括号用对应的值 `value_i` 替换。

如果从 `knowledge` 中无法得知某个键对应的值，你需要将 `key_i` 和括号用问号 `"?"` 替换（不需要引号）。

请你返回替换**所有括号对**后的结果字符串。

{% note info flat %}
`knowledge` 中每个键最多只会出现一次，`s` 中不会有嵌套的括号。
{% endnote %}

{% note warning flat %}
- $1 <= s.length <= 10^5$
- $0 <= knowledge.length <= 10^5$
- `knowledge[i].length == 2`
- $1 <= key_i.length, value_i.length <= 10$
- `s` 只包含小写英文字母和圆括号 `'('` 和 `')'`
- `s` 中每一个左圆括号 `'('` 都有对应的右圆括号 `')'`
- `s` 中每对括号内的键都不会为空
- `s` 中不会有嵌套括号对
- `key_i` 和 `value_i` 只包含小写英文字母
- `knowledge` 中的 `key_i` 不会重复
{% endnote %}

### 示例输出

{% tabs sample %}
<!-- tab 示例输出1 -->
输入： `s = "(name)is(age)yearsold", knowledge = [["name", "bob"], ["age", "two"]]`
输出： `"bobistwoyearsold"`
<!-- endtab -->

<!-- tab 示例输出2 -->
输入： `s = "hi(name)", knowledge = [["a", "b"]]`
输出： `"hi?"`
<!-- endtab -->

<!-- tab 示例输出3 -->
输入： `s = "(a)(a)(a)aaa", knowledge = [["a", "yes"]]`
输出： `"yesyesyesaaa"`
<!-- endtab -->

<!-- tab 示例输出4 -->
输入： `s = "(a)(b)", knowledge = [["a", "b"], ["b", "a"]]`
输出： `"ba"`
<!-- endtab -->
{% endtabs %}

## 解题思路

没啥说的，先将键值保存到 `HashMap` 中，再逐个替换键。

## 代码实现

```java
public String evaluate(String s, List<List<String>> knowledge) {
    Map<String, String> map = new HashMap<>();
    for (List<String> list : knowledge) {
        map.put(list.get(0), list.get(1));
    }
    StringBuilder stringBuilder = new StringBuilder();
    boolean flag = true;
    int left = 0;
    for (int i = 0; i < s.length(); i++) {
        char c = s.charAt(i);
        if (c == '(') {
            flag = false;
            left = i;
        } else if (c == ')') {
            flag = true;
            stringBuilder.append(map.getOrDefault(s.substring(left + 1, i), "?"));
        } else if (flag) {
            stringBuilder.append(c);
        }
    }
    return stringBuilder.toString();
}
```

{% note success flat %}
执行用时：50 ms, 在所有 Java 提交中击败了100.00%的用户
内存消耗：77.6 MB, 在所有 Java 提交中击败了100.00%的用户
{% endnote %}

---
